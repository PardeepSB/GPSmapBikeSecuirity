<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>Google Maps - gmplot</title>

<script type="text/javascript">


</script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=visualization"></script>
<script type="text/javascript">

setInterval(function() {  

        fetch('/data_json')
        .then(
            response => response.json()
        ).then(
            data => initialize(data[0].lat, data[0].longt)
        )    
      }, 10000
    );

    function initialize(lat, longt) {
        var map = new google.maps.Map(document.getElementById("map_canvas"), {
            zoom: 17,
            
            center: new google.maps.LatLng(lat, longt)    
        });

        new google.maps.Polyline({
            clickable: false,
            geodesic: true,
            strokeColor: "#0000FF",
            strokeOpacity: 1.000000,
            strokeWeight: 2,
            map: map,
            path: [
                new google.maps.LatLng(lat, longt),
            ]
        });

        new google.maps.Circle({
            strokeColor: '#00FFFF',
            strokeOpacity: 1.0,
            strokeWeight: 1,
            fillColor: '#00FFFF',
            fillOpacity: 0.3,
            map: map,
            center: new google.maps.LatLng(lat, longt),
            radius: 5
        });

    }
</script>
</head>
<body style="margin:0px; padding:0px;" >
    <div id="map_canvas" style="width: 100%; height: 100%;" />
</body>
</html>
